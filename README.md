# modular

`modular` is a collection of tools and guidance to enable UI development at
scale.

## motivation

`modular` is derived from the work at JP Morgan to enable development in a
single repository by many teams, usually for dashboard style applications. We
want to introduce a well defined approach for scaling both our development tools
and processes, where we have explicitly focused on avoiding introducing any
additional / unnecessary complexity, or trying to solve too many 'problems' at
once.

[ todo: describe the multi repo example ]

The most discussed kind of 'scale' with software involves adding more users to a
system. E.g. How many concurrent users per minute can a server handle; the
answer to that will inform how many servers need to be deployed during high
traffic periods (e.g during a sale on an e-commerce site).

In the software development cycle, the 'product' is the codebase, and the
'users' are developers.

Development at scale looks at different vectors of growth in a codebase; some of
them are -

[ todo: vectors of scale ]

## what is it

`modular` provides a command line tool to scaffold a new application from
scratch.

- Running `yarn create modular-react-app` generates a new git repository,
  configured to use
  [yarn workspaces](https://classic.yarnpkg.com/en/docs/workspaces/).
- It also creates a workspace named 'app', and creates a fresh application
  inside it generated by [create-react-app](https://create-react-app.dev/),
  including all its features.
- The default [template](https://create-react-app.dev/docs/custom-templates/)
  assumes that code will be written with
  [typescript](https://www.typescriptlang.org/)
- new top level components can be added `modular add <widget-name>`; these top
  level components can either be imported directly, or rendered lazily via a
  dynamically generated widget map as `app/widgets`.

## widgets

Widgets are primary, top-level components in modular. We discuss them in detail
in [this explainer](/docs/widgets.md).

## commands

`yarn create modular-react-app <name>`: create a new repository and scaffold it
with create-react-app.

`modular add <widget-name>`: adds a new top level component (aka 'widget') under
`widgets/<name>`.

`modular start` / `modular build` / `modular test`: These run
[`react-scripts start`](https://create-react-app.dev/docs/getting-started#npm-start-or-yarn-start)
/ [`react-scripts build`](https://create-react-app.dev/docs/production-build) /
[`react-scripts test`](https://create-react-app.dev/docs/running-tests)
respectively, but on the entire repository created by `modular`.

## concerns / usecases

[ todo: add more, and actually answer them ]

- How do I onboard on to a codebase?
- How long does it take to set up a development environment?
- How do I get permissions and entitlements?
- What third party services require onboarding?

- How do I learn about the different parts of an application?

- How do I checkout code on to my machine?
- My codebase has gotten too big, iterating/building takes too long.

- How do I add a feature?
- How can I prototype something new?
- How do I propose a big change/feature?

- How do I macth accessibility expectations?
- How do I setup keyboard navigation in my application?

- How do I debug code?
- How can I debug a problem in production?

- What do good UI tests look like?
- How do I mock dependencies and/or data?
- How do I run only affected tests?

- I don't like typescript!
- How do I refactor code without breaking existing features?
- How do I upgrade dependencies?

- How do I add styles in my application?
- How do I incorporate a design system?
- How do I update a design system?
- How do I verify uniformity in styling?

- One/Some of our teams still work in a seperate repository.
- How do I scale PRs / code review in this system?

- How do I deploy code to production?
- How do we scale QA in this codebase?
- How do we do stage rollouts?
- How do I rollback a release?

- How can I tell if the code works in production?
- How do I make features better?

- How can users report bugs?

- How does my team communicate with each other?
- How do we communicate with other teams?
- How do I find the owner for a particular piece of the application?
